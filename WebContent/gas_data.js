var dataMap = {};
function dataFormatter(obj) {
    var pList = ['一厂','二厂','三厂','六厂','七厂','八厂','橡胶厂','炼油厂','储运一厂','储运二厂','一热力','二热力','三热力'];
    var temp;
    var max = 0;
    for (var year = 2011; year <= 2016; year++) {
        temp = obj[year];
        for (var i = 0, l = temp.length; i < l; i++) {
            max = Math.max(max, temp[i]);
            obj[year][i] = {
                name : pList[i],
                value : temp[i]
            }
        }
        obj[year+'max'] = Math.floor(max/100) * 100;
    }
    return obj;
}

function dataMix(list) {
    var mixData = {};
    for (var i = 0, l = list.length; i < l; i++) {
        for (var key in list[i]) {
            if (list[i][key] instanceof Array) {
                mixData[key] = mixData[key] || [];
                for (var j = 0, k = list[i][key].length; j < k; j++) {
                    mixData[key][j] = mixData[key][j] 
                                      || {name : list[i][key][j].name, value : []};
                    mixData[key][j].value.push(list[i][key][j].value);
                }
            }
        }
    }
    return mixData;
}

dataMap.TVOC = dataFormatter({
    //max : 60000,
    2011:[67.2, 78.6, 76.7, 145.6, 162.2, 40.6, 20.0, 133.9, 21.7, 14.3, 21.5, 18.9, 21.7],
    2012:[61.5, 80.1, 69.0, 142.2, 159.7, 39.1, 25.4, 150.3, 24.3, 15.9, 23.7, 16.7, 23.5],
    2013:[65.6, 83.9, 74.2, 154.6, 173.2, 42.4, 24.9, 153.9, 27.7, 16.3, 24.5, 18.9, 25.4],    
    2014:[68.4, 78.6, 76.7, 167.3, 189.4, 43.6, 23.2, 150.2, 23.8, 18.5, 26.6, 20.3, 22.8],
    2015:[62.1, 79.4, 80.6, 155.5, 178.3, 41.7, 21.1, 146.9, 18.4, 13.4, 25.8, 17.9, 20.1],
    2016:[59.9, 75.6, 75.2, 150.6, 167.5, 40.2, 19.6, 139.9, 15.3, 10.3, 23.5, 15.7, 17.7],
});

dataMap.benzene = dataFormatter({
    //max : 4000,
    2011:[6.27, 9.72, 5.73, 1.42, 6.13, 5.57, 7.44, 7.51, 4.94, 4.78, 3.04, 5.31, 2.24],
    2012:[4.36, 5.58, 2.81, 4.48, 5.28, 1.08, 5.15, 2.92, 4.15, 2.11, 3.56, 9.02, 3.67],
    2013:[8.29, 8.85, 7.34, 7.59, 9.6, 4.9, 8.57, 4.33, 3.82, 2.86, 3.08, 5.45, 2.74],
    2014:[112.83,122.58,2034.59,313.58,907.95,1302.02,916.72,1088.94,111.8,2100.11,1095.96,1418.09,1158.17,1060.38,3002.65,2658.78,1780,1892.4,1973.05,1453.75,436.04,575.4,2216.15,539.19,1020.56,60.62,753.72,462.27,105.57,118.94,691.07],
    2015:[101.26,110.19,1804.72,311.97,762.1,1133.42,783.8,915.38,101.84,1816.31,986.02,1200.18,1002.11,905.77,2509.14,2217.66,1378,1626.48,1695.57,1241.35,361.07,482.39,2032,446.38,837.35,54.89,592.63,387.55,83.41,97.89,628.72],
    2016:[88.8,103.35,1461.81,276.77,634.94,939.43,672.76,750.14,93.81,1545.05,925.1,1011.03,865.98,786.14,2138.9,1916.74,1140.41,1272.2,1532.17,1032.47,323.48,386.38,1595.48,382.06,724.4,50.9,484.81,334,67.55,79.54,527.8],
 });

dataMap.dataGDP_Estate = dataMix([dataMap.dataEstate, dataMap.dataGDP]);
